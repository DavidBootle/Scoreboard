extends mainpage 

block content

    script(src='/javascripts/formutils.js')
    script(src='/javascripts/teams.js')

    table(class='table mt-4')
        thead(class='thead-dark')
            tr
                th(scope='col', class='col-2') #
                th(scope='col', class='col-4') Name
                th(scope='col', class='col-4') Team
                th(scope='col', class='col-3') Rubees
                th(scope='col', class='col-1'): a(href='/teams/newteam'): i(class="fas fa-plus")
        tbody
            if teams.length != 0
                each team, index in teams 
                    tr(class='score-row')
                        th(scope='row', class='col-2')= index + 1
                        td(class='col-4')= team.name
                        td(class='col-4')= team.id 
                        td(class='col-4')= team.score
                        td(class='col-1'): button(onclick='removeTeam("' + team.id + '")', class="delete-button"): i(class="fas fa-trash")
            else
                tr(class='score-row')
                    th(scope='row', class='col-2')= '---'
                    td(class='col-4')= '---'
                    td(class='col-4')= '---'
                    td(class='col-4')= '---'
                    td(class='col-1')
    
    script(src="/socket.io/socket.io.js")
    script(src="/javascripts/socketutils.js")
    script.
        var socket = io()
        addLogoffListener(socket);
        addScoreboardListener(socket);